;===============
 ;Goku
;===============

;------------------------------------------------------
;Progging: Neocide
;Sprites: Neocide
;------------------------------------------------------

;==========================================================================================
;=============================================================================

[Data]
life = 1000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 1
volume = 0
IntPersistIndex = 60
FloatPersistIndex = 40
;---------------------------------------------------------------------------
[Size]
xscale = 1
yscale = 1
ground.back = 15
ground.front = 16
air.back = 12
air.front = 12
height = 60
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos         = -3, -65
mid.pos          = -5, -45
shadowoffset = 0
draw.offset = 0,0
;---------------------------------------------------------------------------
[Velocity]
walk.fwd         = 1.8
walk.back        = -1.6
run.fwd          = 10, 0
run.back         = -6.5,-6
jump.neu         = 0,-9.1
jump.back        = -3
jump.fwd         = 3
run.back         = -7.5,-3.8
runjump.fwd      = 4,-8.1
airjump.neu      = 0,-8.1
airjump.back     = -2.55
airjump.fwd      = 2.5
;---------------------------------------------------------------------------
[Movement]
airjump.num      = 0
airjump.height   = 0
yaccel           = 0.5
stand.friction   = .85
crouch.friction  = .82
;---------------------------------------------------------------------------
;Lose by Time Over
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
;Win state decider
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181
;---------------------------------------------------------------------------
;Win pose 1 - Bow
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
;Introduction
[Statedef 191]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, PlaySnd]
type = PlaySnd
trigger1 =(!time)
value = S190,0
channel = -1

[State 0, StopSnd]
type = StopSnd
trigger1 = var(1) = 10000
trigger1 = animtime = 174
channel = -1


[State 191, 3]
type =  ChangeState
trigger1 = var(1) = 10000 || p2name = "Supa Saiyajin Tsu Bejiita"
trigger1 = animelem = 10
value = 192

[State 191, 3]
type = null; ChangeState
trigger1 = var(1) = 20000
trigger1 = animelem = 10
value =

[state 191,4]
type = varset
trigger1 = var(1) = 0 && command = "S2I"||p2name ="Supa Saiyajin Tsu Bejiita"
trigger1 = animelem = 8 < 0
v = 1
value = 10000

[state 191,4]
type = varset
trigger1 = var(1) = 0 && command = "S3I"
trigger1 = animelem = 8 < 0
v = 1
value = 20000

[State 191, 5]
type = ChangeState
trigger1 = var(1) = 0 && animtime = 0
value = 0

;-------------------------------------------------------------------------

;SSJ2 INTRODUCTION

[Statedef 192]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

;----------
;Sounds
;----------

[State 800, PlaySnd]
type = PlaySnd
trigger1 = (!time)
value = S700, 4
channel = 3

[State 800, PlaySnd]
type = PlaySnd
trigger1 = animelemtime(1)=90
value = S700, 5


[State 800, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S700, 0

[State 800, PlaySnd]
type = PlaySnd
trigger1 = time = 498
value = S700, 3

[state 800]
type = PlaySND
trigger1 = animelem = 4
value = S700,6

[State 0, PlaySnd]
type         = PlaySND
trigger1     = animelemtime(2)=8
value        = S700, 1
channel      = 9
loop         = 1


[State 0, PlaySnd]
type         = PlaySND
trigger1     = animelem = 4
value        = S700, 2
channel      = 5
loop         = 1

[State 0, PlaySnd]
type         = PlaySND
trigger1     = animelem = 4
value        = S700, 7
channel      = 7
loop         = 1

[State 0, PlaySnd]
type         = PlaySND
trigger1     = animelem = 4
value        = S700, 8
channel      = 6
loop         = 1

;-----------------
;screen effects
;-----------------

[State 0:       Screen Flash]
type                    = EnvColor
trigger1                = animelem = 2
value                   = 255,255,255
time                    = 5

[State 0:       Screen Flash]
type                    = EnvColor
trigger1                = time = 498
value                   = 255,255,255
time                    = 5



;------------
;effects
;------------

[State 800, 1]
type = Explod
trigger1 = animelem = 1
Anim = 6031
pos = 0,0
Id = 6031
sprpriority = 0
removeongethit = 1
removetime = -1
scale = 0.8, 1
bindtime = -1
ownpal = 1
persistent = 11

[state 182, blue wave thing]
type = explod
trigger1 = animelem = 4
anim = 6039
ID = 6031
removetime = -1
pos = -5,0
trans = add
scale = .8,.8
bindtime = -1
removeongethit = 1
sprpriority = 4
persistent  = 0

[State 0,aura]
type = Explod
trigger1 = animelem = 2
anim = 6037
ID = 7010
pos = -5,0
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -1
removeongethit = 1
scale = .7,.8
sprpriority = 3
ownpal = 1

[State 0,aura]
type = Explod
trigger1 = animelem = 4
anim = 6037
ID = 6031
pos = -5,0
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -1
removeongethit = 1
scale = 1,1.1
sprpriority = 3
ownpal = 1

;dust puff
[State 800, 1]
type = Explod
trigger1 = animelem = 4
Anim = 6062
pos = 5,0
postype = p1
ID = 6031
sprpriority = 1
removeongethit = 1
removetime = -1
scale = 1,1
bindtime = -1
ownpal = 1
persistent = 50

;dust puff
[State 800, 1]
type = Explod
trigger1 = animelem = 4
anim = 6062
ID = 6031
pos = -8,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
removetime = -1
removeongethit = 1
scale = 1,1
sprpriority = 2
removeongethit = 1

[state 182,electricity]
type = explod
trigger1 = animelem = 4
anim = 6032
ID = 6031
removetime = -1
removeongethit = 1
pos = -2,-37
trans = add
scale = .7,.7
removeongethit = 1
bindtime = -1
removeongethit = 1
sprpriority = 2

;------------
;end
;------------

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 500
channel = 7

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 500
channel = 6

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 500
channel = 5

[State 0, StopSnd]
type = StopSnd
trigger1 = animelem = 2
channel = 3

[State 0, StopSnd]
type = StopSnd
trigger1 = animelem = 4
channel = 9

[State 805:	RemoveExplod]
type			= RemoveExplod
trigger1		= animelem =4
id			= 7010


[State 805:	RemoveExplod]
type			= RemoveExplod
trigger1		= time = 500
id			= 6031

[State 191, 3]
type = ChangeState
trigger1 = time = 500
value = 0

;------------------------------------------------------------------------

;=====================================================================================
;Power up- start
[Statedef 800]
type 			= S
movetype		= I
physics		        = N
anim	                = 701+var(1)
;velset		        = 0,0
ctrl			= 0
juggle		        = 0
facep2		        = 0
hitdefpersist	        = 0
movehitpersist	        = 0
hitcountpersist	        = 0
sprpriority		= 1

[State 800, go to ssj2 powerup]
type = ChangeState
trigger1 = var(1) = 10000 && (!animtime)
value = 807
ctrl = 0


[State 0, ChangeState]
type = ChangeState
trigger1 =(!animtime)
value = 805

;-------------------------------------------------------------------------

[Statedef 805]
type 			= S
movetype		= I
physics		        = S
;velset		        = 0,0
ctrl			= 0
anim	                = 702+var(1)
juggle		        = 0
facep2		        = 0
hitdefpersist	        = 0
movehitpersist	        = 0
hitcountpersist	        = 0
sprpriority		= 1


[State 0:       ChangeAnim]
type                    = ChangeAnim
trigger1                = anim != 703 && power >= 1700
value                   = 703+var(1)

[State 0:       PowerAdd]
type                    = PowerAdd
trigger1                = (1)
value                   = 7

;-----------------------
;snds
;-----------------------

[state 800]
type = PlaySND
trigger1 = !time
value = S910, 0

[state 800]
type = PlaySND
trigger1 = !time
value = S700, 0

[state 800]
type = PlaySND
trigger1 = !time
value = S700, 5

[State 0, PlaySnd]
type         = PlaySND
trigger1     = (TimeMod = 24, 0)
value        = S700, 1
channel      = 19

[state 800]
type = PlaySND
trigger1 = power >= 2000 && var(1) = 20000 && !time
value = S700,6




[State 0, PlaySND]
type          = PlaySnd
trigger1      = Power >= 2000
value         = 700, 8
channel	      = 20
Loop          = 1
Persistent    = 0

[State 0, PlaySND]
type          = PlaySnd
trigger1      = Power >= 1000
value         = 700, 7
volume        = 255
channel	      = 21
Loop          = 1
Persistent    = 0

;------------------------
;screen Effects
;------------------------


[State 0:       Screen Flash]
type                    = EnvColor
trigger1                = (!Time)
value                   = 255,255,255
time                    = 5

[State 800,	2]
type                    = BGPalFX
trigger1		= ((Time > 20) && ((GameTime%70) = 0)) && Power >= 1000
time			= 10
add		    	= 20,20,20
mul			= 256,256,256
sinadd		        = 200,200,200,4
invertall		= 1
color			= 256

[state 800, Push effect]
type                    = helper
trigger1                = (TimeMod = 15,0) && Power >= 1000
name                    = "push helper"
helpertype              = normal
stateno                 = 6020
ID                      = 6020
keyctrl                 = 0
ownpal                  = 1
size.xscale	        = 1
size.yscale	        = 1


[State 800,3]
type		= EnvShake
triggerall      = power >= 1000
trigger1        = (TimeMod = 10, 0)
time 	        = 10
freq 	        = 70
ampl 	        = 7

;----------------------
;power up effects
;----------------------

[State 0,aura]
type = Explod
trigger1 = !time
anim = 6030 +var(1)
ID = 7010
pos = -5,0
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -1
removeongethit = 1
scale = ifelse(var(1)=20000,.9,.7),ifelse(var(1)=20000,.9,.7)
sprpriority = 3
ownpal = 1

;ground waves
[State 800, 1]
type = Explod
trigger1 = animelemtime(2) > 0 && numexplod(6034) = 0
Anim = 6031
pos = 0,0
Id = 6031
sprpriority = 0
removeongethit = 1
removetime = -2
scale = 0.8, 1
bindtime = -1
ownpal = 1
persistent = 11

[state 800, blue gust thing]
type = explod
trigger1 = power >= 2000
anim = 6039
ID = 7010
removetime = -1
pos = -5,0
trans = add
scale = .8,.8
bindtime = -1
removeongethit = 1
sprpriority = 4
persistent  = 0

[state 800, electricity]
type = explod
trigger1 = power >= 1000 && var(1) = 20000
anim = 6032
ID = 6031
removetime = -2
removeongethit = 1
pos = -2,-17
trans = add
scale = .7,.7
removeongethit = 1
bindtime = -1
removeongethit = 1
sprpriority = 3
persistent = 120

;dust puff
[State 800, 1]
type = Explod
trigger1 = !time
Anim = 6062
pos = 5,0
postype = p1
ID = 6031
sprpriority = 1
removeongethit = 1
removetime = -1
scale = 1,1
bindtime = -1
ownpal = 1
persistent = 50

;dust puff
[State 800, 1]
type = Explod
trigger1 = !time
anim = 6062
ID = 6031
pos = -8,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
removetime = -1
removeongethit = 1
scale = 1,1
sprpriority = 2
removeongethit = 1

[State 800, varset]
type = varset
trigger1 = var(1) = 0 && power >= 2000
v = 1
value = 10000

[State 800, go to ssj2 powerup]
type = ChangeState
trigger1 = var(1) = 10000
value = 807
ctrl = 0

[State 800, End]
type = ChangeState
trigger1 = command != "holdy" && command != "holdb"
value = 806
ctrl = 0


;---------------------------------------------------------------------------------------------------------
[Statedef 807]
type 			= S
movetype		= I
physics		        = S
;velset		        = 0,0
ctrl			= 0
anim	                = 10702
juggle		        = 0
facep2		        = 0
hitdefpersist	        = 0
movehitpersist	        = 0
hitcountpersist	        = 0
sprpriority		= 1


[State 0:       PowerAdd]
type                    = PowerAdd
trigger1                = (1)
value                   = 7

;-----------------------
;snds
;-----------------------

[state 800]
type = PlaySND
trigger1 = !time
value = S910, 0

[state 800]
type = PlaySND
trigger1 = (!time)
value = S700, 0

[state 800]
type = PlaySND
trigger1 = power >= 2000 && !time
value = S700,6

[State 0, PlaySnd]
type         = PlaySND
trigger1     = (TimeMod = 24, 0)
value        = S700, 2
channel      = 22

[State 0, PlaySND]
type          = PlaySnd
trigger1      = Power >= 2000
value         = 700, 8
channel	      = 20
Loop          = 1
Persistent    = 0

[State 0, PlaySND]
type          = PlaySnd
trigger1      = Power >= 1000
value         = 700, 7
volume        = 255
channel	      = 21
Loop          = 1
Persistent    = 0



;------------------------
;screen Effects
;------------------------


[State 0:       Screen Flash]
type                    = EnvColor
trigger1                = (!Time)
value                   = 255,255,255
time                    = 5

[State 800,	2]
type                    = BGPalFX
trigger1		= ((Time > 20) && ((GameTime%70) = 0)) && Power >= 1000
time			= 10
add		    	= 20,20,20
mul			= 256,256,256
sinadd		        = 200,200,200,4
invertall		= 1
color			= 256



[state 800, Push effect]
type                    = helper
trigger1                = (TimeMod = 15,0) && Power >= 1000
name                    = "push helper"
helpertype              = normal
stateno                 = 6020
ID                      = 6020
keyctrl                 = 0
ownpal                  = 1
size.xscale	        = 1
size.yscale	        = 1


[State 800,3]
type		= EnvShake
triggerall      = power >= 1000
trigger1        = (TimeMod = 10, 0)
time 	        = 10
freq 	        = 70
ampl 	        = 7

;----------------------
;power up effects
;----------------------


[State 0,aura]
type = Explod
trigger1 = !time
anim = 6037
ID = 6031
pos = -5,0
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -1
removeongethit = 1
scale = .7,.8
sprpriority = 3
ownpal = 1

;ground waves
[State 800, 1]
type = Explod
trigger1 = animelemtime(2) > 0 && numexplod(6034) = 0
Anim = 6031
pos = 0,0
Id = 6031
sprpriority = 0
removeongethit = 1
removetime = -2
scale = 0.8, 1
bindtime = -1
ownpal = 1
persistent = 11


[state 800, electricity]
type = explod
trigger1 = power >= 1000
anim = 6032
ID = 6031
removetime = -2
removeongethit = 1
pos = -2,-37
trans = add
scale = .7,.7
removeongethit = 1
bindtime = -1
removeongethit = 1
sprpriority = 3
persistent = 120


[state 800, blue gust thing]
type = explod
trigger1 = power >= 2000
anim = 6039
ID = 6031
removetime = -1
pos = -5,0
trans = add
scale = .8,.8
bindtime = -1
removeongethit = 1
sprpriority = 4
persistent  = 0


[state 800,energy wave]
type = explod
trigger1 = power >= 1000
anim = 6040
ID = 6031
removetime = -1
pos = 0,0
trans = add
scale = 1,1
removeongethit = 1
bindtime = -1
sprpriority = -2
persistent  = 0


;dust puff
[State 800, 1]
type = Explod
trigger1 = !time
Anim = 6062
pos = 5,0
postype = p1
ID = 6031
sprpriority = 1
removeongethit = 1
removetime = -1
scale = 1,1
bindtime = -1
ownpal = 1
persistent = 50

;dust puff
[State 800, 1]
type = Explod
trigger1 = !time
anim = 6062
ID = 6031
pos = -8,0
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
removetime = -1
removeongethit = 1
scale = 1,1
sprpriority = 2
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno!=800
id = 7010

[State 800, End]
type = ChangeState
trigger1 = command != "holdy" && command != "holdb"
value = 806
ctrl = 0

;-------------------------------------------------------------------------
;charge (end)
[Statedef 806]
type 			= S
movetype		= I
physics		= S
anim			= 0+ var(1)
;velset		= 0,0
ctrl			= 1
sprpriority		= 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno!=800
id = 7010

[State 800, PlaySnd]
type = PlaySnd
trigger1 = (!time)
value = S700, 3


[State 0:       Screen Flash]
type                    = EnvColor
trigger1                = (!Time)
value                   = 255,255,255
time                    = 5


[State 805:	RemoveExplod]
type			= RemoveExplod
trigger1		= (!Time)
id			= 6031

;------------------------------------------------------------------------
; Reverting
;-----------------------------------------------------------------------
;reverting
[Statedef 808]
type 			= S
movetype		= I
physics                 = S
;velset		        = 0,0
ctrl			= 1
sprpriority		= 2


[State 800, PlaySnd]
type = PlaySnd
trigger1 = (!time)
value = S700, 3

[state 0,revert to normal]
type     = varset
trigger1 = var(1) = 10000 && command = "Revert"
v        = 1
value    = 0

[state 0,revert to ssj2]
type     = varset
trigger1 = var(1) = 20000 && command = "Revert"
v        = 1
value    = 10000



[State 0:       Screen Flash]
type                    = EnvColor
trigger1                = (!Time)
value                   = 255,255,255
time                    = 5

[state 0, life drop from revert]
type = lifeset
trigger1 = (!time) && var(1)=0 && life < 1
value = floor (life/10)*9
kill = 0


[State 0, PowerAdd]
type =PowerAdd
trigger1 = (!time)&& var(1) = 0
value = 1000
;ignorehitpause =
;persistent =


[State 0, ChangeState]
type = ChangeState
trigger1 = (!time)
value = 0
ctrl = 1




;=========================================================================
;-------------------------------------------------------------------------
;=========================================================================

[statedef -2]

[State -2:      StopSND] ;Stop Powerup Sound
type                    = StopSnd
trigger1                = (StateNo != 805)
channel		            = 19

[State -2:      StopSND] ;Stop Rumble Sound
type                    = StopSnd
trigger1                = (StateNo != 805)
channel		            = 20

[State -2:      StopSND] ;Stop Wind Sound
type                    = StopSnd
trigger1                = (StateNo != 805)
channel		            = 21

[State -2:      StopSND] ;Stop Powerup Sound
type                    = StopSnd
trigger1                = (StateNo != 807)
channel		            = 22

[State -2:      StopSND] ;Stop Rumble Sound
type                    = StopSnd
trigger1                = (StateNo != 807)
channel		            = 23

[State -2:      StopSND] ;Stop Wind Sound
type                    = StopSnd
trigger1                = (StateNo != 807)
channel		            = 24


[State 0, StopSnd]
type = StopSnd
trigger1 =  stateno=!192
channel = 7
;ignorehitpause =
;persistent =

[State 0, StopSnd]
type = StopSnd
trigger1 =  stateno=!192
channel = 6
;ignorehitpause =
;persistent =

[State 0, StopSnd]
type = StopSnd
trigger1 =  stateno=!192
channel = 5

[State 0, StopSnd]
type = StopSnd
trigger1 =  stateno=!192
channel = 9

[State 0, StopSnd]
type = StopSnd
trigger1 = Roundstate = 2
channel = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = Roundstate = 2
channel = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = Roundstate = 2
channel = 3

[State 0, StopSnd]
type = StopSnd
trigger1 =  Roundstate = 2
channel = 4







